<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modular K-Profile Parameterization · OceanTurb.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OceanTurb.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><a class="toctext" href="../../basics/">Turbulence, fluxes, and physics</a></li><li><a class="toctext" href="../../numerics/">Numerical methods</a></li><li><span class="toctext">Turbulence models</span><ul><li><a class="toctext" href="../kpp/">The K-Profile-Parameterization (KPP)</a></li><li class="current"><a class="toctext" href>Modular K-Profile Parameterization</a><ul class="internal"><li><a class="toctext" href="#Mixing-depth-models-1">Mixing depth models</a></li><li><a class="toctext" href="#Diffusivity-models-1">Diffusivity models</a></li><li><a class="toctext" href="#Non-local-flux-models-1">Non-local flux models</a></li></ul></li><li><a class="toctext" href="../edmf/">An eddy-diffusivity mass-flux (EDMF) scheme</a></li><li><a class="toctext" href="../pacanowskiphilander/">Pacanowski-Philander</a></li></ul></li><li><span class="toctext">DocStrings</span><ul><li><a class="toctext" href="../../man/types/">Private types</a></li><li><a class="toctext" href="../../man/functions/">Functions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Turbulence models</li><li><a href>Modular K-Profile Parameterization</a></li></ul><a class="edit-page" href="https://github.com/glwagner/OceanTurb.jl/blob/master/docs/src/models/modular_kpp.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Modular K-Profile Parameterization</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Modular-K-Profile-Parameterization-1" href="#Modular-K-Profile-Parameterization-1">Modular K-Profile Parameterization</a></h1><div>\[\newcommand{\c}         {\, ,}
\newcommand{\p}         {\, .}
\newcommand{\d}         {\partial}
\newcommand{\r}[1]      {\mathrm{#1}}
\newcommand{\b}[1]      {\boldsymbol{#1}}
\newcommand{\ee}        {\mathrm{e}}
\newcommand{\di}        {\, \mathrm{d}}
\newcommand{\ep}        {\epsilon}

\newcommand{\beq}       {\begin{equation}}
\newcommand{\eeq}       {\end{equation}}
\newcommand{\beqs}      {\begin{gather}}
\newcommand{\eeqs}      {\end{gather}}

% Non-dimensional numbers
\newcommand{\Ri}        {\mathrm{Ri}}
\newcommand{\Ek}        {\mathrm{Ek}}
\newcommand{\SL}        {\mathrm{SL}}
\newcommand{\K}         {\mathcal{E}}

\newcommand{\btau}      {\b{\tau}} % wind stress vector

% Model functions and constants
\renewcommand{\F}[2]      {\Upsilon^{#1}_{#2}}
\renewcommand{\C}[2]      {C^{#1}_{#2}}

\newcommand{\uwind}     {\omega_{\tau}}
\newcommand{\ubuoy}     {\omega_b}

\newcommand{\NL}        {NL}\]</div><p>In <code>ModularKPP</code> module, horizontally-averaged vertical turbulent fluxes are modeled with the combination of a local diffusive flux and a non-local non-diffusive flux:</p><div>\[\beq
\overline{w \phi} = - K_\Phi \d_z \Phi + \NL_\Phi \c
\eeq\]</div><p>where the depth dependence of the eddy diffusivity <span>$K_\Phi$</span> is modeled with a shape or &#39;profile&#39; function, which gives rise to the name <span>$K$</span>-profile parameterization. The non-local flux term <span>$\NL_\Phi$</span> models the effects of convective plumes.</p><p><span>$K$</span>-profile schemes with a non-local flux term thus have three basic components:</p><ol><li>A model for the mixing layer depth <span>$h$</span>, over which <span>$K_\Phi &gt; 0$</span>.</li><li>A model for the diffusivity <span>$K$</span>, which includes the <span>$K$</span>-profile as well as its magnitude.</li><li>A model for the non-local flux, <span>$\NL_\Phi$</span>.</li></ol><h2><a class="nav-anchor" id="Mixing-depth-models-1" href="#Mixing-depth-models-1">Mixing depth models</a></h2><h3><a class="nav-anchor" id="CVMix-mixing-depth-model-1" href="#CVMix-mixing-depth-model-1">CVMix mixing depth model</a></h3><p>The <a href="https://github.com/CVMix/CVMix-description/raw/master/cvmix.pdf">CVMix</a> mixing depth model uses the &#39;bulk Richardson number&#39; criterion proposed by <a href="https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/94rg01872">Large et al (1994)</a>. This model is described in [Mixing depth model in CVMix KPP][@ref].</p><h3><a class="nav-anchor" id="ROMS-mixing-depth-model-1" href="#ROMS-mixing-depth-model-1">ROMS mixing depth model</a></h3><p>The mixing depth model used by the <a href="https://www.myroms.org">Regional Ocean Modeling System (ROMS)</a> is described in appendix B of <a href="https://journals.ametsoc.org/doi/full/10.1175/2009JPO4130.1">McWilliams et al (2009)</a>. The model introduces a &#39;mixing function&#39; <span>$\mathbb{M}$</span>, which is increased by shear and convection and decreased by stable stratification and rotation. The stabilization function is defined as</p><div>\[\beq \label{stabilization}
\mathbb M(z) = \int_z^0 \F{\SL}{}(z&#39;) \left [
      \left ( \d_z \b{U} \right )^2 - \frac{\d_z B}{\C{\Ri}{}} - \C{\Ek}{} f^2
    \right ] \, \mathrm{d} z&#39;
    - \C{\K}{} \omega_b^\dagger N^\dagger \c
\eeq\]</div><p>where</p><div>\[\beq
\omega_b^\dagger(z) \equiv \max \left (0, -z F_b \right )^{1/3} \c
  \quad \mathrm{and} \quad
N^\dagger(z) \equiv \max \left (0, \d_z B \right )^{1/2} \p
\eeq\]</div><p>Typically, the mixing function <span>$\mathbb M(z)$</span> increases from 0 at <span>$z=0$</span> into the well-mixed region immediately below the surface due to <span>$\left ( \d_z \b{U} \right )^2$</span> and <span>$\omega_b^\dagger N^\dagger$</span> during convection, and decreases to negative values in the stratified region below the mixing layer due to the stabilizing action of <span>$-\d_z B / \C{\Ri}{}$</span>. The boundary layer depth is defined as the first nonzero depth where <span>$\mathbb M(z) = 0$</span>.</p><p>Finally, the &#39;surface layer exclusion&#39; function,</p><div>\[\beq \label{exclusion}
\F{\SL}{} \equiv - \frac{z}{\C{\SL}{} h - z} \c
\eeq\]</div><p>acts to exclude the values of <span>$\left ( \d_z \b{U} \right )^2$</span> and <span>$\d_z B$</span> at the top of the boundary layer from influencing the diagnosed boundary layer depth.</p><p><a href="https://journals.ametsoc.org/doi/full/10.1175/2009JPO4130.1">McWilliams et al (2009)</a> suggests <span>$\C{\SL}{} = 0.1$</span>, <span>$\C{\K}{} = 5.07$</span>, <span>$\C{\Ri}{} = 0.3$</span>, and <span>$\C{\Ek}{} = 211$</span> for the free parameters in \eqref{stabilization}.</p><h2><a class="nav-anchor" id="Diffusivity-models-1" href="#Diffusivity-models-1">Diffusivity models</a></h2><h2><a class="nav-anchor" id="Non-local-flux-models-1" href="#Non-local-flux-models-1">Non-local flux models</a></h2><ul><li><a href="https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/94rg01872">Large et al (1994)</a></li><li><a href="https://github.com/CVMix/CVMix-description/raw/master/cvmix.pdf">CVMix documentation</a></li><li><a href="https://journals.ametsoc.org/doi/full/10.1175/2009JPO4130.1">McWilliams et al (2009)</a></li><li>[Regional Ocean Modeling Systeml (ROMS)][https://www.myroms.org]</li></ul><div class="footnote" id="footnote-LMD94"><a href="#footnote-LMD94"><strong>[LMD94]</strong></a><p>https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/94rg01872</p></div><div class="footnote" id="footnote-MHS09"><a href="#footnote-MHS09"><strong>[MHS09]</strong></a><p>https://journals.ametsoc.org/doi/full/10.1175/2009JPO4130.1</p></div><div class="footnote" id="footnote-CVMix"><a href="#footnote-CVMix"><strong>[CVMix]</strong></a><p>https://github.com/CVMix/CVMix-description/raw/master/cvmix.pdf</p></div><div class="footnote" id="footnote-ROMS"><a href="#footnote-ROMS"><strong>[ROMS]</strong></a><p>https://www.myroms.org</p></div><footer><hr/><a class="previous" href="../kpp/"><span class="direction">Previous</span><span class="title">The K-Profile-Parameterization (KPP)</span></a><a class="next" href="../edmf/"><span class="direction">Next</span><span class="title">An eddy-diffusivity mass-flux (EDMF) scheme</span></a></footer></article></body></html>
